# Environment Variables for n8n AI Knowledge System
# Copy this file to .env and fill in your actual values

# =============================================================================
# AI Provider API Keys (at least one required)
# =============================================================================

# OpenAI API Key (for GPT models)
OPENAI_API_KEY=your_openai_api_key_here

# Anthropic API Key (for Claude models)
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# =============================================================================
# n8n Configuration
# =============================================================================

# n8n API Key (if accessing n8n instance)
N8N_API_KEY=your_n8n_api_key_here

# n8n Instance URL (if using external n8n instance)
N8N_BASE_URL=https://your-n8n-instance.com

# =============================================================================
# Database Configuration
# =============================================================================

# ChromaDB Configuration
CHROMA_HOST=localhost
CHROMA_PORT=8001
CHROMA_PERSIST_DIRECTORY=./data/vector_db

# Redis Configuration (optional, for caching)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=

# =============================================================================
# API Configuration
# =============================================================================

# FastAPI Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=true
API_DEBUG=false

# API Security
API_SECRET_KEY=your_secret_key_here_change_this_in_production
API_ACCESS_TOKEN_EXPIRE_MINUTES=30

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# =============================================================================
# Streamlit Configuration - REMOVED (replaced by Next.js frontend)
# =============================================================================
# STREAMLIT_SERVER_PORT=8501
# STREAMLIT_SERVER_ADDRESS=0.0.0.0
# STREAMLIT_SERVER_HEADLESS=true
# STREAMLIT_BROWSER_GATHER_USAGE_STATS=false

# =============================================================================
# Scraping Configuration
# =============================================================================

# Scraping Settings
SCRAPER_MAX_PAGES=500
SCRAPER_DELAY_BETWEEN_REQUESTS=1.0
SCRAPER_MAX_RETRIES=3
SCRAPER_TIMEOUT=30

# User Agent for scraping
SCRAPER_USER_AGENT="n8n-knowledge-system/1.0"

# =============================================================================
# Automation Configuration
# =============================================================================

# Update Scheduler
UPDATE_SCHEDULE_TIME=02:00
UPDATE_SCHEDULE_ENABLED=true
BACKUP_RETENTION_DAYS=7

# Notifications
NOTIFICATIONS_ENABLED=true
WEBHOOK_URL=
SLACK_WEBHOOK_URL=
DISCORD_WEBHOOK_URL=

# =============================================================================
# Logging Configuration
# =============================================================================

# Logging Level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
LOG_FILE_MAX_SIZE=10485760  # 10MB
LOG_FILE_BACKUP_COUNT=5

# =============================================================================
# Data Directories
# =============================================================================

# Data Storage Paths
DATA_DIRECTORY=./data
SCRAPED_DOCS_DIRECTORY=./data/scraped_docs
VECTOR_DB_DIRECTORY=./data/vector_db
BACKUPS_DIRECTORY=./backups
LOGS_DIRECTORY=./logs
EXPORTS_DIRECTORY=./exports
CONFIG_DIRECTORY=./config

# =============================================================================
# AI Agent Configuration
# =============================================================================

# Default AI Provider (openai, anthropic)
DEFAULT_AI_PROVIDER=openai

# OpenAI Model Settings
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.1

# Anthropic Model Settings
ANTHROPIC_MODEL=claude-3-sonnet-20240229
ANTHROPIC_MAX_TOKENS=2000
ANTHROPIC_TEMPERATURE=0.1

# Vector Search Settings
VECTOR_SEARCH_TOP_K=5
VECTOR_SEARCH_SCORE_THRESHOLD=0.7

# Conversation Settings
CONVERSATION_MEMORY_LIMIT=10
CONVERSATION_TIMEOUT_MINUTES=30

# =============================================================================
# Security Configuration
# =============================================================================

# CORS Settings
CORS_ALLOW_ORIGINS=["http://localhost:3000", "http://localhost:8501"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET", "POST", "PUT", "DELETE"]
CORS_ALLOW_HEADERS=["*"]

# Authentication
AUTH_ENABLED=false
AUTH_SECRET_KEY=your_auth_secret_key_here
AUTH_ALGORITHM=HS256

# =============================================================================
# Performance Configuration
# =============================================================================

# Threading and Concurrency
MAX_WORKERS=4
THREAD_POOL_SIZE=10

# Memory Management
MAX_MEMORY_USAGE_PERCENT=80
GARBAGE_COLLECTION_THRESHOLD=1000

# Cache Settings
CACHE_TTL_SECONDS=3600
CACHE_MAX_SIZE=1000

# =============================================================================
# Development Configuration
# =============================================================================

# Development Mode
DEVELOPMENT_MODE=false
TESTING=false
DEBUG=false

# Hot Reload
HOT_RELOAD=false

# Profiling
PROFILING_ENABLED=false

# =============================================================================
# Monitoring Configuration
# =============================================================================

# Health Check Settings
HEALTH_CHECK_INTERVAL=60
HEALTH_CHECK_TIMEOUT=10

# Metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# Alerting
ALERT_EMAIL=
ALERT_WEBHOOK_URL=

# =============================================================================
# Docker Configuration
# =============================================================================

# Docker Environment
DOCKER_ENV=false
CONTAINER_NAME=n8n-knowledge-system

# Volume Mounts
DATA_VOLUME=./data:/app/data
CONFIG_VOLUME=./config:/app/config
LOGS_VOLUME=./logs:/app/logs

# =============================================================================
# External Services
# =============================================================================

# Webhook Endpoints
WEBHOOK_SECRET=your_webhook_secret_here
WEBHOOK_TIMEOUT=30

# External APIs
EXTERNAL_API_TIMEOUT=30
EXTERNAL_API_RETRIES=3

# =============================================================================
# Feature Flags
# =============================================================================

# Enable/Disable Features
FEATURE_CHAT_INTERFACE=true
FEATURE_KNOWLEDGE_BROWSER=true
FEATURE_SYSTEM_MONITOR=true
FEATURE_SETTINGS_PANEL=true
FEATURE_API_DOCS=true
FEATURE_EXPORT_FUNCTIONALITY=true
FEATURE_BACKUP_RESTORE=true
FEATURE_AUTO_UPDATES=true

# Experimental Features
FEATURE_ADVANCED_SEARCH=false
FEATURE_MULTI_LANGUAGE=false
FEATURE_VOICE_INTERFACE=false